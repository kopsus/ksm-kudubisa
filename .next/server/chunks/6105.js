exports.id=6105,exports.ids=[6105],exports.modules={68761:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,13219,23)),Promise.resolve().then(s.t.bind(s,34863,23)),Promise.resolve().then(s.t.bind(s,25155,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,96313,23)),Promise.resolve().then(s.t.bind(s,48530,23)),Promise.resolve().then(s.t.bind(s,88921,23))},39385:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,66959,23)),Promise.resolve().then(s.t.bind(s,33875,23)),Promise.resolve().then(s.t.bind(s,88903,23)),Promise.resolve().then(s.t.bind(s,84178,23)),Promise.resolve().then(s.t.bind(s,86013,23)),Promise.resolve().then(s.t.bind(s,87190,23)),Promise.resolve().then(s.t.bind(s,61365,23))},13554:(e,t,s)=>{Promise.resolve().then(s.bind(s,67235)),Promise.resolve().then(s.bind(s,75180))},37114:(e,t,s)=>{Promise.resolve().then(s.bind(s,48943)),Promise.resolve().then(s.bind(s,69214))},95795:(e,t,s)=>{Promise.resolve().then(s.bind(s,64350))},56043:(e,t,s)=>{Promise.resolve().then(s.bind(s,30324))},73029:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var r=s(76133),a=s(85668),l=s(50066);let n=a.A.create({baseURL:r.VY,withCredentials:!0});n.interceptors.request.use(async e=>{let t=(0,l.getCookie)("token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e))},93146:(e,t,s)=>{"use strict";s.d(t,{V:()=>o});var r=s(30191),a=s(76133),l=s(85668);let n=async({body:e,params:t})=>(await l.A.post(`${a.VY}/auth/${t}`,e)).data,i=async()=>(await l.A.delete(`${a.VY}/auth/logout`)).data,o=()=>{let e=(0,r.n)({mutationKey:["auth"],mutationFn:({type:e,body:t})=>{switch(e){case"login":return n({params:"login",body:t});case"register":return n({params:"register",body:t});case"logout":return i()}},onSuccess:e=>{400===e.status&&alert(e.message)}});return{...e,serviceAuth:e.mutateAsync}}},80341:(e,t,s)=>{"use strict";s.d(t,{CK:()=>o,E$:()=>n,Kh:()=>d,by:()=>i,lo:()=>l});var r=s(76133),a=s(73029);let l=async()=>(await a.g.get(`${r.VY}/users`)).data,n=async()=>(await a.g.get(`${r.VY}/profile`)).data,i=async e=>(await a.g.post(`${r.VY}/auth/register`,e)).data,o=async({body:e,id:t})=>(await a.g.patch(`${r.VY}/users/${t}`,e)).data,d=async e=>(await a.g.delete(`${r.VY}/users/${e}`)).data},26602:(e,t,s)=>{"use strict";s.d(t,{B:()=>o,I:()=>i});var r=s(89633),a=s(80341),l=s(54700),n=s(83545);let i=()=>{let e=(0,r.I)({queryKey:["users"],queryFn:()=>(0,a.lo)()});return{...e,dataUsers:e.data?.data}},o=()=>{let e=(0,l.md)(n.r),t=(0,r.I)({queryKey:["profile"],queryFn:()=>(0,a.E$)(),enabled:e});return{...t,dataProfile:t.data?.data}}},43825:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var r=s(45512),a=s(45103);s(58009);var l=s(47530);let n=()=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-10",children:(0,r.jsx)(a.default,{src:l.default,alt:"",width:0,height:0,sizes:"100vw"})}),(0,r.jsx)("p",{className:"text-lg md:text-xl text-white text-nowrap",children:"Kudu Bisa"})]})},30324:(e,t,s)=>{"use strict";s.d(t,{default:()=>L});var r=s(45512),a=s(58009),l=s.n(a),n=s(26008),i=s(79334);let o=({item:e})=>{let t=(0,i.usePathname)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("ul",{className:"mb-5.5 mt-4 flex flex-col gap-2.5 pl-6",children:e.map((e,s)=>(0,r.jsx)("li",{children:(0,r.jsx)(n.default,{href:e.route,className:`group relative flex items-center gap-2.5 rounded-md px-4 font-medium text-bodydark2 duration-300 ease-in-out hover:text-white ${t===e.route?"text-white":""}`,children:e.label})},s))})})},d=({item:e,pageName:t,setPageName:s})=>{let[a,d]=l().useState(!1);l().useEffect(()=>{d(!0)},[]);let u=(0,i.usePathname)(),c=e=>e.route===u||!!e.children&&e.children.some(e=>c(e)),h=c(e);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("li",{children:[(0,r.jsxs)(n.default,{href:e.route,onClick:()=>s(t!==e.label.toLowerCase()?e.label.toLowerCase():""),className:`${h?"bg-graydark dark:bg-meta-4":""} group relative flex items-center gap-2.5 rounded-sm px-4 py-2 font-medium text-bodydark1 duration-300 ease-in-out hover:bg-graydark dark:hover:bg-meta-4`,children:[e.icon,e.label,e.children&&a&&(0,r.jsx)("svg",{className:`absolute right-4 top-1/2 -translate-y-1/2 fill-current ${t===e.label.toLowerCase()&&"rotate-180"}`,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.41107 6.9107C4.73651 6.58527 5.26414 6.58527 5.58958 6.9107L10.0003 11.3214L14.4111 6.91071C14.7365 6.58527 15.2641 6.58527 15.5896 6.91071C15.915 7.23614 15.915 7.76378 15.5896 8.08922L10.5896 13.0892C10.2641 13.4147 9.73651 13.4147 9.41107 13.0892L4.41107 8.08922C4.08563 7.76378 4.08563 7.23614 4.41107 6.9107Z",fill:""})})]}),e.children&&a&&(0,r.jsx)("div",{className:`translate transform overflow-hidden ${t!==e.label.toLowerCase()&&"hidden"}`,children:(0,r.jsx)(o,{item:e.children})})]})})},u=({children:e,exceptionRef:t,onClick:s,className:l})=>{let n=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=e=>{(t?n.current&&n.current.contains(e.target)||t.current&&t.current===e.target||t.current&&t.current.contains(e.target):n.current&&n.current.contains(e.target))||s()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,s]),(0,r.jsx)("div",{ref:n,className:`${l||""}`,children:e})},c=function(e,t){let[s,r]=(0,a.useState)(()=>{});return[s,r]};var h=s(80574),m=s(76195),b=s(49656),x=s(64051),p=s(64977),g=s(35668),f=s(43825),k=s(26602);let v=e=>{let t=[{icon:(0,r.jsx)(h.A,{}),label:"Dashboard",route:"/dashboard"}];return({Admin:[...t,{icon:(0,r.jsx)(m.A,{}),label:"Gallery",route:"/gallery"},{icon:(0,r.jsx)(b.A,{}),label:"Produk",route:"/produk"},{icon:(0,r.jsx)(x.A,{}),label:"Transaksi",route:"#",children:[{label:"Agen",route:"/transaksi/agen"},{label:"Pengepul",route:"/transaksi/pengepul"}]},{icon:(0,r.jsx)(p.A,{}),label:"Pengguna",route:"#",children:[{label:"Masyarakat",route:"/users/masyarakat"},{label:"Agen",route:"/users/agen"},{label:"Pengepul",route:"/users/pengepul"}]}],Agen:[...t,{icon:(0,r.jsx)(x.A,{}),label:"Transaksi",route:"/transaksi/agen"}],Pengepul:[...t,{icon:(0,r.jsx)(x.A,{}),label:"Transaksi",route:"/transaksi/pengepul"}]})[e]},A=({sidebarOpen:e,setSidebarOpen:t})=>{let[s,a]=c("selectedMenu","dashboard"),{dataProfile:l}=(0,k.B)(),i=l?v(l.role?.role):[];return(0,r.jsx)(u,{onClick:()=>t(!1),children:(0,r.jsxs)("aside",{className:`fixed left-0 top-0 z-9999 flex h-screen w-72.5 flex-col overflow-y-hidden bg-gray-800  duration-300 ease-linear dark:bg-boxdark lg:translate-x-0 ${e?"translate-x-0":"-translate-x-full"}`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2 px-6 py-5.5 lg:py-6.5",children:[(0,r.jsx)(n.default,{href:"/",children:(0,r.jsx)(f.g,{})}),(0,r.jsx)("button",{onClick:()=>t(!e),"aria-controls":"sidebar",className:"block lg:hidden",children:(0,r.jsx)(g.A,{color:"white"})})]}),(0,r.jsx)("div",{className:"flex flex-col overflow-y-auto duration-300 ease-linear",children:(0,r.jsx)("nav",{className:"mt-5 px-4 py-4 lg:mt-9 lg:px-6",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"mb-4 ml-4 text-sm font-semibold text-bodydark2",children:"MENU"}),(0,r.jsx)("ul",{className:"mb-6 flex flex-col gap-1.5",children:i?.map((l,n)=>r.jsx(d,{item:l,pageName:s,setPageName:a,onClick:()=>t(!e)},n))})]})})})]})})};var j=s(86235),y=s(98755),w=s(30722),N=s(54700),C=s(83545),P=s(93146);let E=()=>{let[e,t]=(0,a.useState)(!1),{dataProfile:s,isLoading:l}=(0,k.B)(),[o,d]=(0,N.fp)(C.r),c=(0,i.useRouter)(),{serviceAuth:h}=(0,P.V)(),m=async()=>{await h({type:"logout",body:""}),d(!1),c.push("/")};return(0,r.jsxs)(u,{onClick:()=>t(!1),className:"relative",children:[(0,r.jsxs)(n.default,{onClick:()=>t(!e),className:"flex items-center gap-4",href:"#",children:[l?(0,r.jsx)(j.A,{}):(0,r.jsxs)("span",{className:"hidden text-right lg:block",children:[(0,r.jsx)("span",{className:"block text-sm font-medium text-black dark:text-white",children:s?.username}),(0,r.jsx)("span",{className:"block text-xs",children:s?.role?.role})]}),(0,r.jsx)(y.A,{})]}),e&&(0,r.jsx)("div",{className:"absolute right-0 mt-4 flex w-62.5 flex-col rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:(0,r.jsxs)("button",{onClick:m,className:"flex items-center gap-3.5 px-6 py-4 text-sm font-medium duration-300 ease-in-out hover:text-primary lg:text-base",children:[(0,r.jsx)(w.A,{}),"Log Out"]})})]})},$=e=>(0,r.jsx)("header",{className:"sticky top-0 z-999 flex w-full bg-white drop-shadow-1 dark:bg-boxdark dark:drop-shadow-none",children:(0,r.jsxs)("div",{className:"flex flex-grow items-center justify-between lg:justify-end px-4 py-4 shadow-2 md:px-6 2xl:px-11",children:[(0,r.jsx)("div",{className:"flex items-center gap-2 sm:gap-4 lg:hidden",children:(0,r.jsx)("button",{"aria-controls":"sidebar",onClick:t=>{t.stopPropagation(),e.setSidebarOpen(!e.sidebarOpen)},className:"z-99999 block rounded-sm border border-stroke bg-white p-1.5 shadow-sm dark:border-strokedark dark:bg-boxdark lg:hidden",children:(0,r.jsxs)("span",{className:"relative block h-5.5 w-5.5 cursor-pointer",children:[(0,r.jsxs)("span",{className:"du-block absolute right-0 h-full w-full",children:[(0,r.jsx)("span",{className:`relative left-0 top-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-[0] duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!w-full delay-300"}`}),(0,r.jsx)("span",{className:`relative left-0 top-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-150 duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"delay-400 !w-full"}`}),(0,r.jsx)("span",{className:`relative left-0 top-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-200 duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!w-full delay-500"}`})]}),(0,r.jsxs)("span",{className:"absolute right-0 h-full w-full rotate-45",children:[(0,r.jsx)("span",{className:`absolute left-2.5 top-0 block h-full w-0.5 rounded-sm bg-black delay-300 duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!h-0 !delay-[0]"}`}),(0,r.jsx)("span",{className:`delay-400 absolute left-0 top-2.5 block h-0.5 w-full rounded-sm bg-black duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!h-0 !delay-200"}`})]})]})})}),(0,r.jsx)("div",{className:"flex items-center gap-3 2xsm:gap-7",children:(0,r.jsx)(E,{})})]})});function L({children:e}){let[t,s]=(0,a.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A,{sidebarOpen:t,setSidebarOpen:s}),(0,r.jsxs)("div",{className:"relative flex flex-1 flex-col lg:ml-72.5",children:[(0,r.jsx)($,{sidebarOpen:t,setSidebarOpen:s}),(0,r.jsx)("main",{children:(0,r.jsx)("div",{className:"p-4 md:p-6 2xl:p-10",children:e})})]})]})}},76133:(e,t,s)=>{"use strict";s.d(t,{It:()=>a,VY:()=>r}),new(s(96330)).PrismaClient;let r="http://localhost:3000/api",a="cm5gvuic20002wxkgn20vevnt"},48943:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r=s(50066),a=s(54700),l=s(58009),n=s(83545);let i=()=>{let[,e]=(0,a.fp)(n.r);return(0,l.useEffect)(()=>{e(!!(0,r.getCookie)("accessToken"))},[e]),null}},69214:(e,t,s)=>{"use strict";s.d(t,{Query:()=>n});var r=s(45512),a=s(64186);let l=new(s(87166)).E({defaultOptions:{queries:{retry:0,refetchOnWindowFocus:!1,refetchOnMount:!1,retryDelay:3e3},mutations:{retry:0,retryDelay:3e3}}});function n({children:e}){return(0,r.jsx)(a.Ht,{client:l,children:e})}},83545:(e,t,s)=>{"use strict";s.d(t,{r:()=>r});let r=(0,s(61208).eU)(!1)},58426:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>l});var r=s(62740),a=s(64350);let l={title:"Admin KSM KuduBisa",description:"Admin KSM KuduBisa Desa Sirau"};function n({children:e}){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.default,{children:e})})}},71354:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>o});var r=s(62740);s(61135);var a=s(25277),l=s.n(a),n=s(75180),i=s(67235);let o={title:"KSM Kudu Bisa",description:"KSM Kudu Bisa Desa Sirau"};function d({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${l().className}`,children:(0,r.jsxs)(n.Query,{children:[e,(0,r.jsx)(i.default,{})]})})})}},64350:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\kuliah\\\\TA\\\\ksm-kudubisa\\\\src\\\\components\\\\dashboard\\\\_global\\\\Layouts\\\\DefaultLayout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\kuliah\\TA\\ksm-kudubisa\\src\\components\\dashboard\\_global\\Layouts\\DefaultLayout.tsx","default")},67235:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\kuliah\\\\TA\\\\ksm-kudubisa\\\\src\\\\lib\\\\isLogin.ts\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\kuliah\\TA\\ksm-kudubisa\\src\\lib\\isLogin.ts","default")},75180:(e,t,s)=>{"use strict";s.d(t,{Query:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call Query() from the server but Query is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\kuliah\\TA\\ksm-kudubisa\\src\\providers\\component.tsx","Query")},47530:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r={src:"/_next/static/media/logo.8baa1fc5.png",height:330,width:757,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAG1BMVEUBre8BsfECru4Dru8Br/BMaXEEsvAAv/oAv/tEAXz5AAAACXRSTlOGqGlFkwA1bJDTeUHgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAHUlEQVR4nGNgYmRkYmZgYWBgZedgZWNgZmSAiQAAA3cAPk+N6x4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:3}},61135:()=>{}};