(()=>{var e={};e.id=5099,e.ids=[5099],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},81195:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var a=r(70260),s=r(28203),i=r(25155),l=r.n(i),n=r(67292),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let o=["",{children:["(dashboard)",{children:["gallery",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,48736)),"E:\\kuliah\\TA\\ksm-kudubisa\\src\\app\\(dashboard)\\gallery\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58426)),"E:\\kuliah\\TA\\ksm-kudubisa\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"E:\\kuliah\\TA\\ksm-kudubisa\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"]}],c=["E:\\kuliah\\TA\\ksm-kudubisa\\src\\app\\(dashboard)\\gallery\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(dashboard)/gallery/page",pathname:"/gallery",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},569:(e,t,r)=>{Promise.resolve().then(r.bind(r,48736))},71193:(e,t,r)=>{Promise.resolve().then(r.bind(r,92095))},35668:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(41680).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},98755:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(41680).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},64051:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(41680).A)("HandCoins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]])},76195:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(41680).A)("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]])},80574:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(41680).A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},30722:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(41680).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},19904:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(41680).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},49656:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(41680).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},81551:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(41680).A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},64977:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(41680).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},44269:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(41680).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},45103:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var a=r(73864),s=r.n(a)},73864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return d},getImageProps:function(){return n}});let a=r(25488),s=r(42034),i=r(41902),l=a._(r(21628));function n(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let d=i.Image},88439:(e,t,r)=>{"use strict";r.d(t,{Ob:()=>d,X1:()=>n,cV:()=>o,x3:()=>l});var a=r(76133),s=r(85668),i=r(73029);let l=async()=>(await s.A.get(`${a.VY}/gallery`)).data,n=async e=>(await i.g.post(`${a.VY}/gallery`,e)).data,d=async({body:e,id:t})=>(await i.g.patch(`${a.VY}/gallery/${t}`,e)).data,o=async e=>(await i.g.delete(`${a.VY}/gallery/${e}`)).data},69560:(e,t,r)=>{"use strict";r.d(t,{u:()=>i});var a=r(89633),s=r(88439);let i=()=>{let e=(0,a.I)({queryKey:["gallery"],queryFn:()=>(0,s.x3)()});return{dataGallery:e.data?.data,...e}}},93964:(e,t,r)=>{"use strict";r.d(t,{V:()=>i});var a=r(76133),s=r(85668);let i=async e=>(await s.A.post(`${a.VY}/upload`,e,{headers:{"Content-Type":"multipart/form-data"}})).data},92095:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E});var a=r(45512),s=r(69560),i=r(76655),l=r(67620),n=r(30191),d=r(88439);let o=()=>{let{refetch:e}=(0,s.u)(),t=(0,n.n)({mutationKey:["gallery mutation"],mutationFn:({body:e,type:t,id:r})=>{switch(t){case"create":return(0,d.X1)(e);case"update":return(0,d.Ob)({body:e,id:r});case"delete":return(0,d.cV)(r)}},onSuccess:()=>{e()},onError:e=>{console.log("res",e)}});return{serviceGallery:t.mutateAsync,...t}};var c=r(93964),u=r(12459),p=r(39400),h=r(77722),x=r(32317),g=r(10750),y=r(54700),m=r(45103),f=r(58009),v=r.n(f);let b=()=>{let[e,t]=(0,y.fp)(g.c),{previewUrl:r,setPreviewUrl:s,handleImageChange:i}=(0,x.A)(),[l,n]=v().useState(null),d=()=>{t(e=>({...e,show:!1})),s(""),n(null)},f=r||e.data?.image||"",{serviceGallery:b}=o(),k=async t=>{if(t.preventDefault(),!l){alert("Please select an image to upload.");return}let r=new FormData;r.append("file",l);let a=await (0,c.V)(r);if(a?.data){let t={image:a.data};"CREATE"===e.type?await b({type:"create",body:t}):await b({type:"update",body:t,id:e.data?.id}),d()}else alert("Failed to upload image.")};return(0,a.jsx)(u.A,{show:"DELETE"!==e.type&&e.show,onHide:d,title:`${"CREATE"===e.type?"Tambah Gallery":"Edit Gallery"}`,children:(0,a.jsxs)("form",{onSubmit:k,className:"flex flex-col items-center gap-5",children:[(0,a.jsx)("div",{className:"w-52 h-52 rounded-xl border bg-white shadow-1 overflow-hidden",children:r||e.data?.image?(0,a.jsx)(m.default,{src:f,alt:"Preview",width:0,height:0,sizes:"100vw"}):null}),(0,a.jsx)(h.p,{type:"file",onChange:e=>{i(e),n(e.target.files?.[0]??null)},className:"max-w-72"}),(0,a.jsx)(p.$,{type:"submit",children:"Simpan"})]})})},k=()=>{let[e,t]=(0,y.fp)(g.c),r=()=>{t(e=>({...e,show:!1}))},{serviceGallery:s}=o(),i=async()=>{await s({type:"delete",id:e.data}),r()};return(0,a.jsx)(u.A,{show:"DELETE"===e.type&&e.show,onHide:r,titleDelete:"Hapus Image ini dari Gallery",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-5",children:[(0,a.jsx)(p.$,{variant:"outline",onClick:r,children:"Cancel"}),(0,a.jsx)(p.$,{variant:"danger",onClick:i,children:"Delete"})]})})};var w=r(41063),A=r(19904),j=r(81551);let E=()=>{let e=(0,y.Xr)(g.c),{dataGallery:t}=(0,s.u)(),r=(0,w.$)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{pageName:"Gallery",onClick:()=>{e({type:"CREATE",show:!0,data:null})}}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[t?.map((s,i)=>a.jsxs("div",{onClick:()=>r.open(i,t.map(e=>e.image)),className:"h-52 w-full rounded-lg shadow-1 overflow-hidden border relative group",children:[a.jsxs("div",{className:"hidden group-hover:flex justify-center items-center gap-5 absolute top-0 left-0 w-full h-full bg-black/50",children:[a.jsx(A.A,{color:"white",className:"cursor-pointer",onClick:()=>{e({type:"UPDATE",show:!0,data:s})}}),a.jsx(j.A,{color:"red",className:"cursor-pointer",onClick:()=>{e({type:"DELETE",show:!0,data:s.id})}})]}),a.jsx(m.default,{src:s.image,alt:s.id,width:0,height:0,sizes:"100vw"})]},i)),(0,a.jsx)(i.H,{index:r.index,visible:r.visible,slides:r.slides,onClose:r.close})]}),(0,a.jsx)(k,{}),(0,a.jsx)(b,{})]})}},76655:(e,t,r)=>{"use strict";r.d(t,{H:()=>l});var a=r(45512),s=r(75684),i=r(32539);r(85129);let l=({index:e,visible:t,onClose:r,slides:l=[]})=>(0,a.jsx)(s.Ay,{index:e,open:t,close:r,slides:l,plugins:[i.A]})},67620:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(45512),s=r(39400);let i=({pageName:e,onClick:t})=>(0,a.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsx)("h2",{className:"text-title-md2 font-semibold text-black dark:text-white",children:e}),(0,a.jsxs)(s.$,{onClick:t,children:["Tambah ",e]})]})},12459:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(45512),s=r(44269);let i=({children:e,title:t,desc:r,titleDelete:i,show:l,onHide:n})=>(0,a.jsxs)(a.Fragment,{children:[l&&(0,a.jsx)("div",{className:"fixed inset-0 z-999999 bg-black/80 pointer-events-auto",onClick:n}),(0,a.jsxs)("div",{className:`${l?"pointer-events-auto block":"hidden pointer-events-none"} fixed left-[50%] top-[50%] z-999999 grid w-full translate-x-[-50%] translate-y-[-50%] gap-10 border border-zinc-200 bg-white p-6 shadow-lg duration-200 rounded-xl max-h-screen overflow-y-auto max-w-[425px]`,children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("p",{className:"text-lg font-semibold leading-none tracking-tight",children:t}),(0,a.jsx)("p",{className:"text-lg font-semibold leading-none tracking-tight text-center",children:i}),(0,a.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:r})]}),(0,a.jsx)(s.A,{color:"red",onClick:n,className:"w-4 h-4 cursor-pointer absolute right-4 top-4 hover:scale-105 transition-all"}),e]})]})},39400:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var a=r(45512),s=r(58009),i=r(12705),l=r(21643),n=r(44195);let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-semibold transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-zinc-300",{variants:{variant:{default:"bg-primary text-zinc-50 shadow hover:bg-primary/90 dark:bg-primary dark:text-zinc-900 dark:hover:bg-primary/90",danger:"bg-danger text-zinc-50 shadow hover:bg-danger/90 dark:bg-danger dark:text-zinc-900 dark:hover:bg-danger/90",outline:"text-danger border border-danger shadow hover:bg-danger/90 hover:text-white dark:text-danger dark:hover:bg-danger/90 dar:hover:text-white",ghost:"bg-slate-300 hover:bg-slate-400"},size:{default:"h-9 px-6 py-2",sm:"h-8 rounded-full px-3 text-xs",lg:"h-10 rounded-full px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...l},o)=>{let c=s?i.DX:"button";return(0,a.jsx)(c,{className:(0,n.cn)(d({variant:t,size:r,className:e})),ref:o,...l})});o.displayName="Button"},77722:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var a=r(45512),s=r(58009),i=r(44195);let l=s.forwardRef(({className:e,type:t,...r},s)=>(0,a.jsx)("input",{type:t,className:(0,i.cn)("flex h-9 w-full rounded-md border-2 border-primary active:outline-none px-3 py-1 text-sm shadow-sm",e),ref:s,...r}));l.displayName="Input"},32317:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(58009);let s=()=>{let[e,t]=(0,a.useState)("");return{previewUrl:e,setPreviewUrl:t,handleImageChange:e=>{let r=e.target.files?.[0];if(r){let e=URL.createObjectURL(r);return t(e),()=>URL.revokeObjectURL(e)}t("")}}}},41063:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var a=r(58009);let s=[16,32,48,64,96,128,256,384],i=[640,750,828,1080,1200,1920,2048,3840],l=()=>{let[e,t]=(0,a.useState)(!1),[r,l]=(0,a.useState)([]),[n,d]=(0,a.useState)(-1);return{index:n,open:(e=0,r=[])=>{t(!0),d(e),l(r)},close:()=>{t(!1),d(-1),l([])},visible:e,slides:r.map(e=>({width:1280,height:1280,src:e,srcSet:s.concat(i).filter(e=>e<=1280).map(t=>({src:e,width:t,height:Math.round(1*t)}))})),images:r}}},44195:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var a=r(82281),s=r(94805);function i(...e){return(0,s.QP)((0,a.$)(e))}},10750:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});let a=(0,r(61208).eU)({show:!1,type:"CREATE",data:null})},48736:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\kuliah\\\\TA\\\\ksm-kudubisa\\\\src\\\\app\\\\(dashboard)\\\\gallery\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\kuliah\\TA\\ksm-kudubisa\\src\\app\\(dashboard)\\gallery\\page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[1989,1018,7274,9267,1902,9633,1651,6105],()=>r(81195));module.exports=a})();