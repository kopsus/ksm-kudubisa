(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9305],{51637:(e,t,s)=>{Promise.resolve().then(s.bind(s,18130))},87364:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(67401).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},51719:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(67401).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},14505:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(67401).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},65236:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(67401).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},92823:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(67401).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},5565:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(4146),r=s.n(a)},67396:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(44839),r=s.n(a)},76046:(e,t,s)=>{"use strict";var a=s(66658);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},4146:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return l},getImageProps:function(){return o}});let a=s(60306),r=s(40666),i=s(87970),n=a._(s(65514));function o(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let l=i.Image},58257:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var a=s(93109),r=s(82651),i=s(13030);let n=r.A.create({baseURL:a.VY,withCredentials:!0});n.interceptors.request.use(async e=>{let t=(0,i.getCookie)("token");return t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e))},29627:(e,t,s)=>{"use strict";s.d(t,{V:()=>l});var a=s(25848),r=s(93109),i=s(82651);let n=async e=>{let{body:t,params:s}=e;return(await i.A.post("".concat(r.VY,"/auth/").concat(s),t)).data},o=async()=>(await i.A.delete("".concat(r.VY,"/auth/logout"))).data,l=()=>{let e=(0,a.n)({mutationKey:["auth"],mutationFn:e=>{let{type:t,body:s}=e;switch(t){case"login":return n({params:"login",body:s});case"register":return n({params:"register",body:s});case"logout":return o()}},onSuccess:e=>{400===e.status&&alert(e.message)}});return{...e,serviceAuth:e.mutateAsync}}},29513:(e,t,s)=>{"use strict";s.d(t,{CK:()=>l,E$:()=>n,Kh:()=>u,by:()=>o,lo:()=>i});var a=s(93109),r=s(58257);let i=async()=>(await r.g.get("".concat(a.VY,"/users"))).data,n=async()=>(await r.g.get("".concat(a.VY,"/profile"))).data,o=async e=>(await r.g.post("".concat(a.VY,"/auth/register"),e)).data,l=async e=>{let{body:t,id:s}=e;return(await r.g.patch("".concat(a.VY,"/users/").concat(s),t)).data},u=async e=>(await r.g.delete("".concat(a.VY,"/users/").concat(e))).data},40454:(e,t,s)=>{"use strict";s.d(t,{B:()=>l,I:()=>o});var a=s(547),r=s(29513),i=s(94928),n=s(67985);let o=()=>{var e;let t=(0,a.I)({queryKey:["users"],queryFn:()=>(0,r.lo)()});return{...t,dataUsers:null===(e=t.data)||void 0===e?void 0:e.data}},l=()=>{var e;let t=(0,i.md)(n.r),s=(0,a.I)({queryKey:["profile"],queryFn:()=>(0,r.E$)(),enabled:t});return{...s,dataProfile:null===(e=s.data)||void 0===e?void 0:e.data}}},88047:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var a=s(95155),r=s(5565);s(12115);var i=s(70827);let n=()=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-10",children:(0,a.jsx)(r.default,{src:i.default,alt:"",width:0,height:0,sizes:"100vw"})}),(0,a.jsx)("p",{className:"text-lg md:text-xl text-white text-nowrap",children:"Kudu Bisa"})]})},18130:(e,t,s)=>{"use strict";s.d(t,{default:()=>P});var a=s(95155),r=s(12115),i=s(67396),n=s(76046);let o=e=>{let{item:t}=e,s=(0,n.usePathname)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("ul",{className:"mb-5.5 mt-4 flex flex-col gap-2.5 pl-6",children:t.map((e,t)=>(0,a.jsx)("li",{children:(0,a.jsx)(i.default,{href:e.route,className:"group relative flex items-center gap-2.5 rounded-md px-4 font-medium text-bodydark2 duration-300 ease-in-out hover:text-white ".concat(s===e.route?"text-white":""),children:e.label})},t))})})},l=e=>{let{item:t,pageName:s,setPageName:l}=e,[u,c]=r.useState(!1);r.useEffect(()=>{c(!0)},[]);let d=(0,n.usePathname)(),h=e=>e.route===d||!!e.children&&e.children.some(e=>h(e)),p=h(t);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("li",{children:[(0,a.jsxs)(i.default,{href:t.route,onClick:()=>l(s!==t.label.toLowerCase()?t.label.toLowerCase():""),className:"".concat(p?"bg-graydark dark:bg-meta-4":""," group relative flex items-center gap-2.5 rounded-sm px-4 py-2 font-medium text-bodydark1 duration-300 ease-in-out hover:bg-graydark dark:hover:bg-meta-4"),children:[t.icon,t.label,t.children&&u&&(0,a.jsx)("svg",{className:"absolute right-4 top-1/2 -translate-y-1/2 fill-current ".concat(s===t.label.toLowerCase()&&"rotate-180"),width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.41107 6.9107C4.73651 6.58527 5.26414 6.58527 5.58958 6.9107L10.0003 11.3214L14.4111 6.91071C14.7365 6.58527 15.2641 6.58527 15.5896 6.91071C15.915 7.23614 15.915 7.76378 15.5896 8.08922L10.5896 13.0892C10.2641 13.4147 9.73651 13.4147 9.41107 13.0892L4.41107 8.08922C4.08563 7.76378 4.08563 7.23614 4.41107 6.9107Z",fill:""})})]}),t.children&&u&&(0,a.jsx)("div",{className:"translate transform overflow-hidden ".concat(s!==t.label.toLowerCase()&&"hidden"),children:(0,a.jsx)(o,{item:t.children})})]})})},u=e=>{let{children:t,exceptionRef:s,onClick:i,className:n}=e,o=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=e=>{(s?o.current&&o.current.contains(e.target)||s.current&&s.current===e.target||s.current&&s.current.contains(e.target):o.current&&o.current.contains(e.target))||i()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[s,i]),(0,a.jsx)("div",{ref:o,className:"".concat(n||""),children:t})},c=function(e,t){let[s,a]=(0,r.useState)(()=>{try{{let s=window.localStorage.getItem(e);return s?JSON.parse(s):t}}catch(e){return console.log(e),t}});return(0,r.useEffect)(()=>{try{let t="function"==typeof s?s(s):s;window.localStorage.setItem(e,JSON.stringify(t))}catch(e){console.log(e)}},[e,s]),[s,a]};var d=s(67401);let h=(0,d.A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),p=(0,d.A)("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]),m=(0,d.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),x=(0,d.A)("HandCoins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]]);var g=s(92823),b=s(87364),f=s(88047),y=s(40454);let v=e=>{let t=[{icon:(0,a.jsx)(h,{}),label:"Dashboard",route:"/dashboard"}];return({Admin:[...t,{icon:(0,a.jsx)(p,{}),label:"Gallery",route:"/gallery"},{icon:(0,a.jsx)(m,{}),label:"Produk",route:"/produk"},{icon:(0,a.jsx)(x,{}),label:"Transaksi",route:"#",children:[{label:"Agen",route:"/transaksi/agen"},{label:"Pengepul",route:"/transaksi/pengepul"}]},{icon:(0,a.jsx)(g.A,{}),label:"Pengguna",route:"#",children:[{label:"Masyarakat",route:"/users/masyarakat"},{label:"Agen",route:"/users/agen"},{label:"Pengepul",route:"/users/pengepul"}]}],Agen:[...t,{icon:(0,a.jsx)(x,{}),label:"Transaksi",route:"/transaksi/agen"}],Pengepul:[...t,{icon:(0,a.jsx)(x,{}),label:"Transaksi",route:"/transaksi/pengepul"}]})[e]},k=e=>{var t;let{sidebarOpen:s,setSidebarOpen:r}=e,[n,o]=c("selectedMenu","dashboard"),{dataProfile:d}=(0,y.B)(),h=d?v(null===(t=d.role)||void 0===t?void 0:t.role):[];return(0,a.jsx)(u,{onClick:()=>r(!1),children:(0,a.jsxs)("aside",{className:"fixed left-0 top-0 z-9999 flex h-screen w-72.5 flex-col overflow-y-hidden bg-gray-800  duration-300 ease-linear dark:bg-boxdark lg:translate-x-0 ".concat(s?"translate-x-0":"-translate-x-full"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 px-6 py-5.5 lg:py-6.5",children:[(0,a.jsx)(i.default,{href:"/",children:(0,a.jsx)(f.g,{})}),(0,a.jsx)("button",{onClick:()=>r(!s),"aria-controls":"sidebar",className:"block lg:hidden",children:(0,a.jsx)(b.A,{color:"white"})})]}),(0,a.jsx)("div",{className:"flex flex-col overflow-y-auto duration-300 ease-linear",children:(0,a.jsx)("nav",{className:"mt-5 px-4 py-4 lg:mt-9 lg:px-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-4 ml-4 text-sm font-semibold text-bodydark2",children:"MENU"}),(0,a.jsx)("ul",{className:"mb-6 flex flex-col gap-1.5",children:null==h?void 0:h.map((e,t)=>(0,a.jsx)(l,{item:e,pageName:n,setPageName:o,onClick:()=>r(!s)},t))})]})})})]})})};var w=s(14505),A=s(51719),j=s(65236),C=s(94928),N=s(67985),O=s(29627);let M=()=>{var e;let[t,s]=(0,r.useState)(!1),{dataProfile:o,isLoading:l}=(0,y.B)(),[c,d]=(0,C.fp)(N.r),h=(0,n.useRouter)(),{serviceAuth:p}=(0,O.V)(),m=async()=>{await p({type:"logout",body:""}),d(!1),h.push("/")};return(0,a.jsxs)(u,{onClick:()=>s(!1),className:"relative",children:[(0,a.jsxs)(i.default,{onClick:()=>s(!t),className:"flex items-center gap-4",href:"#",children:[l?(0,a.jsx)(w.A,{}):(0,a.jsxs)("span",{className:"hidden text-right lg:block",children:[(0,a.jsx)("span",{className:"block text-sm font-medium text-black dark:text-white",children:null==o?void 0:o.username}),(0,a.jsx)("span",{className:"block text-xs",children:null==o?void 0:null===(e=o.role)||void 0===e?void 0:e.role})]}),(0,a.jsx)(A.A,{})]}),t&&(0,a.jsx)("div",{className:"absolute right-0 mt-4 flex w-62.5 flex-col rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:(0,a.jsxs)("button",{onClick:m,className:"flex items-center gap-3.5 px-6 py-4 text-sm font-medium duration-300 ease-in-out hover:text-primary lg:text-base",children:[(0,a.jsx)(j.A,{}),"Log Out"]})})]})},R=e=>(0,a.jsx)("header",{className:"sticky top-0 z-999 flex w-full bg-white drop-shadow-1 dark:bg-boxdark dark:drop-shadow-none",children:(0,a.jsxs)("div",{className:"flex flex-grow items-center justify-between lg:justify-end px-4 py-4 shadow-2 md:px-6 2xl:px-11",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 sm:gap-4 lg:hidden",children:(0,a.jsx)("button",{"aria-controls":"sidebar",onClick:t=>{t.stopPropagation(),e.setSidebarOpen(!e.sidebarOpen)},className:"z-99999 block rounded-sm border border-stroke bg-white p-1.5 shadow-sm dark:border-strokedark dark:bg-boxdark lg:hidden",children:(0,a.jsxs)("span",{className:"relative block h-5.5 w-5.5 cursor-pointer",children:[(0,a.jsxs)("span",{className:"du-block absolute right-0 h-full w-full",children:[(0,a.jsx)("span",{className:"relative left-0 top-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-[0] duration-200 ease-in-out dark:bg-white ".concat(!e.sidebarOpen&&"!w-full delay-300")}),(0,a.jsx)("span",{className:"relative left-0 top-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-150 duration-200 ease-in-out dark:bg-white ".concat(!e.sidebarOpen&&"delay-400 !w-full")}),(0,a.jsx)("span",{className:"relative left-0 top-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-200 duration-200 ease-in-out dark:bg-white ".concat(!e.sidebarOpen&&"!w-full delay-500")})]}),(0,a.jsxs)("span",{className:"absolute right-0 h-full w-full rotate-45",children:[(0,a.jsx)("span",{className:"absolute left-2.5 top-0 block h-full w-0.5 rounded-sm bg-black delay-300 duration-200 ease-in-out dark:bg-white ".concat(!e.sidebarOpen&&"!h-0 !delay-[0]")}),(0,a.jsx)("span",{className:"delay-400 absolute left-0 top-2.5 block h-0.5 w-full rounded-sm bg-black duration-200 ease-in-out dark:bg-white ".concat(!e.sidebarOpen&&"!h-0 !delay-200")})]})]})})}),(0,a.jsx)("div",{className:"flex items-center gap-3 2xsm:gap-7",children:(0,a.jsx)(M,{})})]})});function P(e){let{children:t}=e,[s,i]=(0,r.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k,{sidebarOpen:s,setSidebarOpen:i}),(0,a.jsxs)("div",{className:"relative flex flex-1 flex-col lg:ml-72.5",children:[(0,a.jsx)(R,{sidebarOpen:s,setSidebarOpen:i}),(0,a.jsx)("main",{children:(0,a.jsx)("div",{className:"p-4 md:p-6 2xl:p-10",children:t})})]})]})}},93109:(e,t,s)=>{"use strict";s.d(t,{It:()=>r,VY:()=>a}),new(s(11094)).PrismaClient;let a="http://localhost:3000/api",r="cm5gvuic20002wxkgn20vevnt"},67985:(e,t,s)=>{"use strict";s.d(t,{r:()=>a});let a=(0,s(21416).eU)(!1)},70827:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a={src:"/_next/static/media/logo.8baa1fc5.png",height:330,width:757,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAG1BMVEUBre8BsfECru4Dru8Br/BMaXEEsvAAv/oAv/tEAXz5AAAACXRSTlOGqGlFkwA1bJDTeUHgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAHUlEQVR4nGNgYmRkYmZgYWBgZedgZWNgZmSAiQAAA3cAPk+N6x4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:3}},1049:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,s:()=>n});var a=s(15586),r=s(2955),i=s(14267),n=class extends r.k{#e;#t;#s;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||o(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||("pending"===this.state.status?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){this.#s=(0,i.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#a({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let t="pending"===this.state.status,s=!this.#s.canStart();try{if(!t){this.#a({type:"pending",variables:e,isPaused:s}),await this.#t.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#a({type:"pending",context:t,variables:e,isPaused:s})}let a=await this.#s.start();return await this.#t.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#a({type:"success",data:a}),a}catch(t){try{throw await this.#t.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#t.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#a({type:"error",error:t})}}finally{this.#t.runNext(this)}}#a(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),a.j.batch(()=>{this.#e.forEach(t=>{t.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function o(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},25848:(e,t,s)=>{"use strict";s.d(t,{n:()=>d});var a=s(12115),r=s(1049),i=s(15586),n=s(99323),o=s(84403),l=class extends n.Q{#r;#i=void 0;#n;#o;constructor(e,t){super(),this.#r=e,this.setOptions(t),this.bindMethods(),this.#l()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#r.defaultMutationOptions(e),(0,o.f8)(this.options,t)||this.#r.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.EN)(t.mutationKey)!==(0,o.EN)(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#l(),this.#u(e)}getCurrentResult(){return this.#i}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#l(),this.#u()}mutate(e,t){return this.#o=t,this.#n?.removeObserver(this),this.#n=this.#r.getMutationCache().build(this.#r,this.options),this.#n.addObserver(this),this.#n.execute(e)}#l(){let e=this.#n?.state??(0,r.$)();this.#i={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#u(e){i.j.batch(()=>{if(this.#o&&this.hasListeners()){let t=this.#i.variables,s=this.#i.context;e?.type==="success"?(this.#o.onSuccess?.(e.data,t,s),this.#o.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#o.onError?.(e.error,t,s),this.#o.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#i)})})}},u=s(35906),c=s(96373);function d(e,t){let s=(0,u.jE)(t),[r]=a.useState(()=>new l(s,e));a.useEffect(()=>{r.setOptions(e)},[r,e]);let n=a.useSyncExternalStore(a.useCallback(e=>r.subscribe(i.j.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=a.useCallback((e,t)=>{r.mutate(e,t).catch(c.l)},[r]);if(n.error&&(0,c.G)(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:o,mutateAsync:n.mutate}}}},e=>{var t=t=>e(e.s=t);e.O(0,[970,3072,547,7970,4839,8441,1517,7358],()=>t(51637)),_N_E=e.O()}]);