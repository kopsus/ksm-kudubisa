(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{16197:(e,a,l)=>{Promise.resolve().then(l.bind(l,16924))},26764:(e,a,l)=>{"use strict";l.d(a,{A:()=>s});let s=(0,l(67401).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},29513:(e,a,l)=>{"use strict";l.d(a,{CK:()=>d,E$:()=>n,Kh:()=>c,by:()=>i,lo:()=>r});var s=l(93109),t=l(58257);let r=async()=>(await t.g.get("".concat(s.VY,"/users"))).data,n=async()=>(await t.g.get("".concat(s.VY,"/profile"))).data,i=async e=>(await t.g.post("".concat(s.VY,"/auth/register"),e)).data,d=async e=>{let{body:a,id:l}=e;return(await t.g.patch("".concat(s.VY,"/users/").concat(l),a)).data},c=async e=>(await t.g.delete("".concat(s.VY,"/users/").concat(e))).data},70510:(e,a,l)=>{"use strict";l.d(a,{o:()=>n});var s=l(25848),t=l(40454),r=l(29513);let n=()=>{let{refetch:e}=(0,t.I)(),a=(0,s.n)({mutationKey:["user mutation"],mutationFn:e=>{let{body:a,type:l,id:s}=e;if("create"===l&&a)return(0,r.by)(a);if("update"===l&&a&&s)return(0,r.CK)({body:a,id:s});if("delete"===l&&s)return(0,r.Kh)(s);throw Error("Invalid input data for mutation")},onSuccess:()=>{e()}});return{serviceUser:a.mutateAsync,...a}}},40454:(e,a,l)=>{"use strict";l.d(a,{B:()=>d,I:()=>i});var s=l(547),t=l(29513),r=l(94928),n=l(67985);let i=()=>{var e;let a=(0,s.I)({queryKey:["users"],queryFn:()=>(0,t.lo)()});return{...a,dataUsers:null===(e=a.data)||void 0===e?void 0:e.data}},d=()=>{var e;let a=(0,r.md)(n.r),l=(0,s.I)({queryKey:["profile"],queryFn:()=>(0,t.E$)(),enabled:a});return{...l,dataProfile:null===(e=l.data)||void 0===e?void 0:e.data}}},16924:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>T});var s=l(95155),t=l(12115),r=l(22130),n=l(26764),i=l(40454),d=l(94928),c=l(97348);let o=()=>{let[e,a]=(0,d.fp)(c.c),{dataProfile:l}=(0,i.B)();return(0,s.jsxs)(r.Zp,{className:"sticky top-20",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("p",{className:"titleSection mb-5",children:"Akun Saya"}),(0,s.jsx)(n.A,{size:20,className:"cursor-pointer",onClick:()=>{a({type:"UPDATE",data:l,show:!0})}})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-y-2 gap-x-5",children:[(0,s.jsx)("p",{children:"Username"}),(0,s.jsxs)("p",{className:"col-span-2",children:[": ",null==l?void 0:l.username]}),(0,s.jsx)("p",{className:"text-nowrap",children:"Nama Lengkap"}),(0,s.jsxs)("p",{className:"col-span-2",children:[": ",null==l?void 0:l.namaLengkap]}),(0,s.jsx)("p",{children:"No Telepon"}),(0,s.jsxs)("p",{className:"col-span-2",children:[": ",null==l?void 0:l.noTlp]}),(0,s.jsx)("p",{children:"RT / RW"}),(0,s.jsxs)("p",{className:"col-span-2",children:[": ",null==l?void 0:l.rt," / ",null==l?void 0:l.rw]})]})]})};var u=l(95838),A=l(89789),g=l(19083),h=l(72508),p=l(73312),v=l(40767),m=l(52083),x=l(46263);function j(e){let{table:a}=e,l=a.getState().columnFilters.length>0;return(0,s.jsxs)("div",{className:"flex items-center justify-end",children:[l&&(0,s.jsxs)(p.$,{variant:"outline",onClick:()=>a.resetColumnFilters(),className:"h-8 px-2 lg:px-3",children:["Reset",(0,s.jsx)(v.A,{className:"ml-2 h-4 w-4"})]}),a.getColumn("statusUser")&&(0,s.jsx)(m.D,{column:a.getColumn("statusUser"),title:"Status",options:x.D})]})}var b=l(81073);function f(e){var a;let{columns:l,data:n}=e,[i,d]=t.useState([]),[c,o]=t.useState([]),u=(0,A.N4)({data:n,columns:l,state:{sorting:i,columnFilters:c},onSortingChange:d,getCoreRowModel:(0,g.HT)(),getSortedRowModel:(0,g.h5)(),onColumnFiltersChange:o,getFilteredRowModel:(0,g.hM)(),getFacetedUniqueValues:(0,g.oS)(),getFacetedRowModel:(0,g.kQ)(),getPaginationRowModel:(0,g.kW)()});return(0,s.jsxs)(r.Zp,{className:"space-y-4",children:[(0,s.jsx)("p",{className:"titleSection",children:"Riwayat Penjualan"}),(0,s.jsx)(j,{table:u}),(0,s.jsxs)(h.XI,{children:[(0,s.jsx)(h.A0,{children:u.getHeaderGroups().map(e=>(0,s.jsx)(h.Hj,{children:e.headers.map(e=>(0,s.jsx)(h.nd,{className:"bg-primary text-white",children:e.isPlaceholder?null:(0,A.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,s.jsx)(h.BF,{children:(null===(a=u.getRowModel().rows)||void 0===a?void 0:a.length)?u.getRowModel().rows.map(e=>(0,s.jsx)(h.Hj,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,s.jsx)(h.nA,{children:(0,A.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,s.jsx)(h.Hj,{children:(0,s.jsx)(h.nA,{colSpan:l.length,className:"h-24 text-center",children:"Data tidak ditemukan"})})})]}),(0,s.jsx)(b.d,{table:u})]})}var y=l(46288),k=l(25121);let N=[{accessorKey:"TransaksiProduk",header:"Barang",cell:e=>{let{row:a}=e,l=a.getValue("TransaksiProduk");return l&&0!==l.length?(0,s.jsx)("ul",{className:"flex flex-col gap-2",children:l.map((e,a)=>{var l;return(0,s.jsx)("li",{children:null===(l=e.produk)||void 0===l?void 0:l.product_name},a)})}):(0,s.jsx)("p",{children:"Belum ada barang"})}},{header:"Berat",cell:e=>{let{row:a}=e,l=a.getValue("TransaksiProduk");return l&&0!==l.length?(0,s.jsx)("ul",{className:"flex flex-col gap-2",children:l.map((e,a)=>(0,s.jsxs)("li",{children:[e.quantity," kg"]},a))}):(0,s.jsx)("p",{children:"Belum ada barang"})}},{header:"Harga / kg",cell:e=>{let{row:a}=e,l=a.getValue("TransaksiProduk");return l&&0!==l.length?(0,s.jsx)("ul",{className:"flex flex-col gap-2",children:l.map((e,a)=>{var l;return(0,s.jsx)("li",{children:(0,y.J)(null===(l=e.produk)||void 0===l?void 0:l.price)},a)})}):(0,s.jsx)("p",{children:"Belum ada barang"})}},{header:"Subtotal",cell:e=>{let{row:a}=e,l=a.getValue("TransaksiProduk");return l&&0!==l.length?(0,s.jsx)("ul",{className:"flex flex-col gap-2",children:l.map((e,a)=>{var l;let t=e.quantity*(null===(l=e.produk)||void 0===l?void 0:l.price);return(0,s.jsx)("li",{children:(0,y.J)(t)},a)})}):(0,s.jsx)("p",{children:"Belum ada barang"})}},{header:"Total",cell:e=>{let{row:a}=e,l=a.getValue("TransaksiProduk");if(!l||0===l.length)return(0,s.jsx)("p",{children:"Rp 0"});let t=l.reduce((e,a)=>{var l,s;return e+(null!==(s=a.quantity)&&void 0!==s?s:0)*(null===(l=a.produk)||void 0===l?void 0:l.price)},0);return(0,s.jsx)(p.$,{variant:"outline",size:"sm",children:(0,y.J)(t)})}},{accessorKey:"statusUser",header:"Status",cell:e=>{let{row:a}=e,l=a.getValue("statusUser"),t=x.D.find(e=>e.value===a.getValue("statusUser"));return t?(0,s.jsx)(k.E,{variant:"Paid"===l?"default":"Process"===l?"process":"Failed"===l?"failed":"pending",children:(0,s.jsx)("span",{children:t.label})}):null},filterFn:(e,a,l)=>l.includes(e.getValue(a))}];var w=l(33900),C=l(37528),E=l(70510),P=l(68724),S=l(93397);let I=()=>{var e,a,l,t,r,n,i,o,u,A;let[g,h]=(0,d.fp)(c.c),v=()=>{h(e=>({...e,show:!1}))},m=e=>{e.preventDefault();let{name:a,value:l}=e.target;h(e=>({...e,data:{...e.data,[a]:l}}))},x=(e,a)=>{h(l=>({...l,data:{...l.data,[a]:e}}))},{serviceUser:j}=(0,E.o)(),b=async e=>{var a,l,s,t,r,n,i,d,c,o,u,A,h;e.preventDefault();let p={roleId:null!==(d=null===(a=g.data)||void 0===a?void 0:a.roleId)&&void 0!==d?d:"",username:null!==(c=null===(l=g.data)||void 0===l?void 0:l.username)&&void 0!==c?c:"",namaLengkap:null!==(o=null===(s=g.data)||void 0===s?void 0:s.namaLengkap)&&void 0!==o?o:"",noTlp:null!==(u=null===(t=g.data)||void 0===t?void 0:t.noTlp)&&void 0!==u?u:"",rt:null!==(A=null===(r=g.data)||void 0===r?void 0:r.rt)&&void 0!==A?A:"",rw:null!==(h=null===(n=g.data)||void 0===n?void 0:n.rw)&&void 0!==h?h:""};await j({type:"update",body:p,id:null===(i=g.data)||void 0===i?void 0:i.id}),v()};return(0,s.jsx)(S.A,{show:"DELETE"!==g.type&&g.show,onHide:v,title:"".concat("CREATE"===g.type?"Tambah User":"Edit User"),desc:"Lakukan perubahan pada profil Anda di sini. Klik simpan setelah selesai.",children:(0,s.jsxs)("form",{onSubmit:b,className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)("p",{children:"Username"}),(0,s.jsx)(w.p,{placeholder:"Username",name:"username",className:"col-span-3",value:null!==(n=null===(e=g.data)||void 0===e?void 0:e.username)&&void 0!==n?n:"",onChange:m,required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)("p",{children:"Nama Lengkap"}),(0,s.jsx)(w.p,{placeholder:"Nama Lengkap",name:"namaLengkap",className:"col-span-3",value:null!==(i=null===(a=g.data)||void 0===a?void 0:a.namaLengkap)&&void 0!==i?i:"",onChange:m,required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)("p",{children:"No Telephone"}),(0,s.jsx)(w.p,{placeholder:"No Telephone",type:"number",name:"noTlp",className:"col-span-3",value:null!==(o=null===(l=g.data)||void 0===l?void 0:l.noTlp)&&void 0!==o?o:"",onChange:m,required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)("p",{children:"RT / RW"}),(0,s.jsxs)("div",{className:"flex gap-5 justify-between",children:[(0,s.jsxs)(C.l6,{onValueChange:e=>x(e,"rt"),value:null!==(u=null===(t=g.data)||void 0===t?void 0:t.rt)&&void 0!==u?u:"",children:[(0,s.jsx)(C.bq,{children:(0,s.jsx)(C.yv,{placeholder:"RT"})}),(0,s.jsx)(C.gC,{children:P.z.map((e,a)=>(0,s.jsx)(C.eb,{value:e.value,children:e.label},a))})]}),(0,s.jsxs)(C.l6,{onValueChange:e=>x(e,"rw"),value:null!==(A=null===(r=g.data)||void 0===r?void 0:r.rw)&&void 0!==A?A:"",children:[(0,s.jsx)(C.bq,{children:(0,s.jsx)(C.yv,{placeholder:"RW"})}),(0,s.jsx)(C.gC,{children:P.s.map((e,a)=>(0,s.jsx)(C.eb,{value:e.value,children:e.label},a))})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end mt-5",children:(0,s.jsx)(p.$,{type:"submit",children:"Simpan Perubahan"})})]})})},T=()=>{let{dataProfile:e}=(0,i.B)();return(0,s.jsxs)("div",{className:"w-full relative bg-center bg-no-repeat bg-cover",style:{backgroundImage:"url(".concat(u.default.src,")")},children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-black/70"}),(0,s.jsx)("div",{className:"Container min-h-screen",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5 relative",children:[(0,s.jsx)("div",{className:"col-span-1 relative",children:(0,s.jsx)(o,{})}),(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsx)(f,{columns:N,data:(null==e?void 0:e.transaksi)||[]})})]})}),(0,s.jsx)(I,{})]})}},46263:(e,a,l)=>{"use strict";l.d(a,{D:()=>s});let s=[{value:"Pending",label:"Pending"},{value:"Process",label:"Process"},{value:"Paid",label:"Paid"},{value:"Failed",label:"Failed"}]},68724:(e,a,l)=>{"use strict";l.d(a,{s:()=>t,z:()=>s});let s=Array.from({length:30},(e,a)=>({value:(a+1).toString().padStart(2,"0"),label:(a+1).toString().padStart(2,"0")})),t=Array.from({length:8},(e,a)=>({value:(a+1).toString().padStart(2,"0"),label:(a+1).toString().padStart(2,"0")}))},67985:(e,a,l)=>{"use strict";l.d(a,{r:()=>s});let s=(0,l(21416).eU)(!1)},95838:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>s});let s={src:"/_next/static/media/highlight.4f1b2f85.jpg",height:1200,width:1600,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAL/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAAsE//xAAcEAEAAgEFAAAAAAAAAAAAAAACAwQAAQUSIVL/2gAIAQEAAT8AOxUVdi0PIpmSZdeVn//EABcRAAMBAAAAAAAAAAAAAAAAAAABIRL/2gAIAQIBAT8AypD/xAAWEQEBAQAAAAAAAAAAAAAAAAABAgD/2gAIAQMBAT8Aqkp3/9k=",blurWidth:8,blurHeight:6}}},e=>{var a=a=>e(e.s=a);e.O(0,[970,3072,547,486,3809,8426,9992,2855,5078,3903,4542,8441,1517,7358],()=>a(16197)),_N_E=e.O()}]);