"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9775],{26764:(e,a,l)=>{l.d(a,{A:()=>t});let t=(0,l(67401).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},19993:(e,a,l)=>{l.d(a,{A:()=>t});let t=(0,l(67401).A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},29627:(e,a,l)=>{l.d(a,{V:()=>i});var t=l(25848),r=l(93109),n=l(82651);let s=async e=>{let{body:a,params:l}=e;return(await n.A.post("".concat(r.VY,"/auth/").concat(l),a)).data},d=async()=>(await n.A.delete("".concat(r.VY,"/auth/logout"))).data,i=()=>{let e=(0,t.n)({mutationKey:["auth"],mutationFn:e=>{let{type:a,body:l}=e;switch(a){case"login":return s({params:"login",body:l});case"register":return s({params:"register",body:l});case"logout":return d()}},onSuccess:e=>{400===e.status&&alert(e.message)}});return{...e,serviceAuth:e.mutateAsync}}},29513:(e,a,l)=>{l.d(a,{CK:()=>i,E$:()=>s,Kh:()=>o,by:()=>d,lo:()=>n});var t=l(93109),r=l(58257);let n=async()=>(await r.g.get("".concat(t.VY,"/users"))).data,s=async()=>(await r.g.get("".concat(t.VY,"/profile"))).data,d=async e=>(await r.g.post("".concat(t.VY,"/auth/register"),e)).data,i=async e=>{let{body:a,id:l}=e;return(await r.g.patch("".concat(t.VY,"/users/").concat(l),a)).data},o=async e=>(await r.g.delete("".concat(t.VY,"/users/").concat(e))).data},70510:(e,a,l)=>{l.d(a,{o:()=>s});var t=l(25848),r=l(40454),n=l(29513);let s=()=>{let{refetch:e}=(0,r.I)(),a=(0,t.n)({mutationKey:["user mutation"],mutationFn:e=>{let{body:a,type:l,id:t}=e;if("create"===l&&a)return(0,n.by)(a);if("update"===l&&a&&t)return(0,n.CK)({body:a,id:t});if("delete"===l&&t)return(0,n.Kh)(t);throw Error("Invalid input data for mutation")},onSuccess:()=>{e()}});return{serviceUser:a.mutateAsync,...a}}},40454:(e,a,l)=>{l.d(a,{B:()=>i,I:()=>d});var t=l(547),r=l(29513),n=l(94928),s=l(67985);let d=()=>{var e;let a=(0,t.I)({queryKey:["users"],queryFn:()=>(0,r.lo)()});return{...a,dataUsers:null===(e=a.data)||void 0===e?void 0:e.data}},i=()=>{var e;let a=(0,n.md)(s.r),l=(0,t.I)({queryKey:["profile"],queryFn:()=>(0,r.E$)(),enabled:a});return{...l,dataProfile:null===(e=l.data)||void 0===e?void 0:e.data}}},45070:(e,a,l)=>{l.d(a,{A:()=>n});var t=l(95155),r=l(73312);let n=e=>{let{pageName:a,onClick:l}=e;return(0,t.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsx)("h2",{className:"text-title-md2 font-semibold text-black dark:text-white",children:a}),(0,t.jsxs)(r.$,{onClick:l,children:["Tambah ",a]})]})}},62090:(e,a,l)=>{l.d(a,{P:()=>y});var t=l(95155),r=l(29627),n=l(547),s=l(93109),d=l(82651);let i=async()=>(await d.A.get("".concat(s.VY,"/roles"))).data,o=()=>{var e;let a=(0,n.I)({queryKey:["roles"],queryFn:()=>i()});return{...a,dataRoles:null===(e=a.data)||void 0===e?void 0:e.data}};var c=l(70510),u=l(40454),h=l(93397),v=l(73312),p=l(33900),m=l(37528),g=l(68724),x=l(97348),j=l(94928);l(12115);let y=()=>{var e,a,l,n,s,d,i,y,w,N,b,f,C,k;let[A,E]=(0,j.fp)(x.c),{dataRoles:T}=o(),R=()=>{E(e=>({...e,show:!1}))},S=e=>{e.preventDefault();let{name:a,value:l}=e.target;E(e=>({...e,data:{...e.data,[a]:l}}))},V=(e,a)=>{E(l=>({...l,data:{...l.data,[a]:e}}))},{serviceUser:K}=(0,c.o)(),{serviceAuth:q}=(0,r.V)(),{refetch:I}=(0,u.I)(),M=async e=>{var a,l,t,r,n,s,d,i,o,c,u,h,v,p,m;e.preventDefault();let g={roleId:null!==(i=null===(a=A.data)||void 0===a?void 0:a.roleId)&&void 0!==i?i:"",username:null!==(o=null===(l=A.data)||void 0===l?void 0:l.username)&&void 0!==o?o:"",namaLengkap:null!==(c=null===(t=A.data)||void 0===t?void 0:t.namaLengkap)&&void 0!==c?c:"",noTlp:null!==(u=null===(r=A.data)||void 0===r?void 0:r.noTlp)&&void 0!==u?u:"",rt:null!==(h=null===(n=A.data)||void 0===n?void 0:n.rt)&&void 0!==h?h:"",rw:null!==(v=null===(s=A.data)||void 0===s?void 0:s.rw)&&void 0!==v?v:"",password:null!==(p=null===(d=A.data)||void 0===d?void 0:d.password)&&void 0!==p?p:""};if("CREATE"===A.type)400!==(await q({type:"register",body:g})).status&&(R(),I());else{let e=await K({type:"update",body:g,id:null===(m=A.data)||void 0===m?void 0:m.id});400!==e.status&&(R(),I()),alert(e.message)}};return(0,t.jsx)(h.A,{show:"DELETE"!==A.type&&A.show,onHide:R,title:"".concat("CREATE"===A.type?"Tambah User":"Edit User"),children:(0,t.jsxs)("form",{onSubmit:M,className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)("p",{children:"Username"}),(0,t.jsx)(p.p,{placeholder:"Username",name:"username",className:"col-span-3",value:null!==(y=null===(e=A.data)||void 0===e?void 0:e.username)&&void 0!==y?y:"",onChange:S,required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)("p",{children:"Nama Lengkap"}),(0,t.jsx)(p.p,{placeholder:"Nama Lengkap",name:"namaLengkap",className:"col-span-3",value:null!==(w=null===(a=A.data)||void 0===a?void 0:a.namaLengkap)&&void 0!==w?w:"",onChange:S,required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)("p",{children:"No Telephone"}),(0,t.jsx)(p.p,{placeholder:"No Telephone",type:"number",name:"noTlp",className:"col-span-3",value:null!==(N=null===(l=A.data)||void 0===l?void 0:l.noTlp)&&void 0!==N?N:"",onChange:S,required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)("p",{children:"RT / RW"}),(0,t.jsxs)("div",{className:"flex gap-5 justify-between",children:[(0,t.jsxs)(m.l6,{onValueChange:e=>V(e,"rt"),value:null!==(b=null===(n=A.data)||void 0===n?void 0:n.rt)&&void 0!==b?b:"",children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{placeholder:"RT"})}),(0,t.jsx)(m.gC,{children:g.z.map((e,a)=>(0,t.jsx)(m.eb,{value:e.value,children:e.label},a))})]}),(0,t.jsxs)(m.l6,{onValueChange:e=>V(e,"rw"),value:null!==(f=null===(s=A.data)||void 0===s?void 0:s.rw)&&void 0!==f?f:"",children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{placeholder:"RW"})}),(0,t.jsx)(m.gC,{children:g.s.map((e,a)=>(0,t.jsx)(m.eb,{value:e.value,children:e.label},a))})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)("p",{children:"Role"}),(0,t.jsxs)(m.l6,{onValueChange:e=>V(e,"roleId"),value:null!==(C=null===(d=A.data)||void 0===d?void 0:d.roleId)&&void 0!==C?C:"",children:[(0,t.jsx)(m.bq,{className:"w-full col-span-3",children:(0,t.jsx)(m.yv,{placeholder:"Role"})}),(0,t.jsx)(m.gC,{children:null==T?void 0:T.map((e,a)=>{var l;return(0,t.jsx)(m.eb,{value:null!==(l=e.id)&&void 0!==l?l:"",children:e.role},a)})})]})]}),"CREATE"===A.type&&(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)("p",{children:"Password"}),(0,t.jsx)(p.p,{placeholder:"Password",name:"password",className:"col-span-3",value:null!==(k=null===(i=A.data)||void 0===i?void 0:i.password)&&void 0!==k?k:"",onChange:S,required:!0})]}),(0,t.jsx)(v.$,{type:"submit",className:"mt-5",children:"CREATE"===A.type?"Tambah":"Simpan Perubahan"})]})})}},67842:(e,a,l)=>{l.d(a,{A:()=>o});var t=l(95155),r=l(70510),n=l(93397),s=l(73312),d=l(97348),i=l(94928);l(12115);let o=()=>{let[e,a]=(0,i.fp)(d.c),l=()=>{a(e=>({...e,show:!1}))},{serviceUser:o}=(0,r.o)(),c=async()=>{await o({type:"delete",id:e.data}),l()};return(0,t.jsx)(n.A,{show:"DELETE"===e.type&&e.show,onHide:l,titleDelete:"Hapus User ?",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-5",children:[(0,t.jsx)(s.$,{variant:"outline",onClick:l,children:"Cancel"}),(0,t.jsx)(s.$,{variant:"danger",onClick:c,children:"Delete"})]})})}},92146:(e,a,l)=>{l.d(a,{e:()=>o});var t=l(95155),r=l(26764),n=l(19993),s=l(94928),d=l(97348);let i=e=>{let{item:a,itemId:l}=e,i=(0,s.Xr)(d.c);return(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)(r.A,{size:18,className:"cursor-pointer",onClick:()=>{i({type:"UPDATE",show:!0,data:a})}}),(0,t.jsx)(n.A,{size:18,color:"red",className:"cursor-pointer",onClick:()=>{i({type:"DELETE",show:!0,data:l})}})]})},o=[{accessorKey:"username",header:"User Name"},{accessorKey:"namaLengkap",header:()=>(0,t.jsx)("p",{className:"text-nowrap",children:"Nama Lengkap"})},{accessorKey:"rt",header:()=>(0,t.jsx)("p",{className:"text-nowrap",children:"RT / RW"}),cell:e=>{let{row:a}=e,l=a.original.rt,r=a.original.rw;return(0,t.jsxs)("p",{className:"text-nowrap",children:[l," / ",r]})}},{accessorKey:"noTlp",header:"No Telephone"},{accessorKey:"role",header:"Role",cell:e=>{let{row:a}=e,l=a.original.role.role;return(0,t.jsx)("p",{children:l})}},{accessorKey:"Action",header:"Action",cell:e=>{let{row:a}=e,l=a.original,r=a.original.id;return(0,t.jsx)(i,{item:l,itemId:r})}}]},10995:(e,a,l)=>{l.d(a,{b:()=>h});var t=l(95155),r=l(12115),n=l(22130),s=l(89789),d=l(19083),i=l(72508),o=l(33900);function c(e){var a,l;let{table:r}=e;return(0,t.jsx)("div",{className:"flex items-center justify-end",children:(0,t.jsx)(o.p,{type:"text",placeholder:"Cari Username",className:"w-[150px] md:w-[250px] border outline-none",value:null!==(l=null===(a=r.getColumn("username"))||void 0===a?void 0:a.getFilterValue())&&void 0!==l?l:"",onChange:e=>{var a;return null===(a=r.getColumn("username"))||void 0===a?void 0:a.setFilterValue(e.target.value)}})})}var u=l(81073);function h(e){var a;let{columns:l,data:o}=e,[h,v]=r.useState([]),[p,m]=r.useState([]),g=(0,s.N4)({data:o,columns:l,state:{sorting:h,columnFilters:p},onSortingChange:v,getCoreRowModel:(0,d.HT)(),getSortedRowModel:(0,d.h5)(),onColumnFiltersChange:m,getFilteredRowModel:(0,d.hM)(),getFacetedUniqueValues:(0,d.oS)(),getFacetedRowModel:(0,d.kQ)(),getPaginationRowModel:(0,d.kW)()});return(0,t.jsxs)(n.Zp,{className:"space-y-4 overflow-x-auto",children:[(0,t.jsx)(c,{table:g}),(0,t.jsxs)(i.XI,{children:[(0,t.jsx)(i.A0,{children:g.getHeaderGroups().map(e=>(0,t.jsx)(i.Hj,{children:e.headers.map((a,l)=>(0,t.jsx)(i.nd,{className:"".concat(l===e.headers.length-1&&"text-right"," bg-gray-800 text-white"),children:a.isPlaceholder?null:(0,s.Kv)(a.column.columnDef.header,a.getContext())},a.id))},e.id))}),(0,t.jsx)(i.BF,{children:(null===(a=g.getRowModel().rows)||void 0===a?void 0:a.length)?g.getRowModel().rows.map(e=>(0,t.jsx)(i.Hj,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(a=>(0,t.jsx)(i.nA,{className:"py-5",children:(0,s.Kv)(a.column.columnDef.cell,a.getContext())},"".concat(e.id,"-").concat(a.id)))},e.id)):(0,t.jsx)(i.Hj,{children:(0,t.jsx)(i.nA,{colSpan:l.length,className:"h-24 text-center",children:"Data tidak ditemukan"})})})]}),(0,t.jsx)(u.d,{table:g})]})}},68724:(e,a,l)=>{l.d(a,{s:()=>r,z:()=>t});let t=Array.from({length:30},(e,a)=>({value:(a+1).toString().padStart(2,"0"),label:(a+1).toString().padStart(2,"0")})),r=Array.from({length:8},(e,a)=>({value:(a+1).toString().padStart(2,"0"),label:(a+1).toString().padStart(2,"0")}))},67985:(e,a,l)=>{l.d(a,{r:()=>t});let t=(0,l(21416).eU)(!1)}}]);